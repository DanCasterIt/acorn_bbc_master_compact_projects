REM disassembled using https://www.masswerk.at/6502/disassembler.html
BRKV     = &0202
OSASCI   = &FFE3
OSWRCH   = &FFEE
OSBYTE   = &FFF4
DIM MC% &4B9
REM MC% = &E00
FOR opt=1 TO 3 STEP 2
P% = MC%
[
OPT opt
JSR &125E
JSR &1076
JSR &10B6
SEI
LDA &0220
STA &12BE
LDA &0221
STA &12BF
LDA #&6B
STA &0220
LDA #&0E
STA &0221
JSR &0F35
CLI
LDA #&0E
.L0026    LDX #&06
JSR OSBYTE
STX &12C0
JSR &0E8F
TSX
STX &12BD
JSR &103D
TAX
LDY #&00
LDA #&01
JSR OSBYTE
JSR &1054
LDA &12C0
BNE L004F
LDA #&0D
LDX #&06
JSR OSBYTE
.L004F    SEI
JSR &0F4F
LDA &12BE
STA &0220
LDA &12BF
STA &0221
CLI
JSR &1083
RTS
LDX &12BD
TXS
JMP &0E38
PHP
CMP #&06
BNE L008B
PHA
TXA
PHA
TYA
PHA
JSR &1107
CLI
LDX #&00
LDA #&03
JSR &1170
SEI
JSR &1117
PLA
TAY
PLA
TAX
PLA
PLP
RTS
.L008B    PLP
JMP (&12BE)
LDY #&00
BEQ L009A
LDA #&9B
LDX #&0E
JMP &1285
.L009A    RTS
JSR &1069
LDX #&7C
LDA #&00
LDY #&00
JSR &11CD
LDY #&01
JSR &10C4
CPX #&7F
BNE L00B2
CMP #&E7
.L00B2    JSR &10EA
BEQ L00BA
JMP &0EBD
.L00BA    JMP &0EFB
LDY #&01
JSR &10C4
JSR &115A
LDY #&03
JSR &10C4
LDY #&18
JSR &1060
JSR &115A
LDX #&00
LDA #&1A
JSR &124F
LDY #&41
JSR &1097
LDY #&00
JSR &11D6
LDY #&01
JSR &10C4
STA &74
STX &75
JSR &108E
LDY #&00
JSR &11CD
LDA &74
LDX &75
JMP &0EA7
LDX #&00
LDA #&00
JMP &0F02
JSR &10A8
RTS
STA &12C2
LDA #&00
STA &12C3
RTS
INY
PHA
CLC
TYA
ADC &70
STA &70
BCC L011B
INC &71
.L011B    PLA
RTS
PHP
SEI
LDA #&B7
STA &12B9
LDA #&0F
STA &12BA
LDA #&5F
STA BRKV
LDA #&0F
STA BRKV+1
PLP
RTS
PHP
SEI
LDA BRKV
STA &12B9
LDA BRKV+1
STA &12BA
LDA #&5F
STA BRKV
LDA #&0F
STA BRKV+1
PLP
RTS
PHP
SEI
LDA &12B9
STA BRKV
LDA &12BA
STA BRKV+1
PLP
RTS
PHP
PHA
TXA
PHA
TYA
PHA
LDY #&00
LDA (&FD),Y
CMP #&1B
BEQ L017A
LDA &12BB
BNE L0177
LDA &12BC
BEQ L017A
.L0177    JMP (&12BB)
.L017A    JSR &0E38
PLA
TAY
PLA
TAX
PLA
PLP
JMP (&12B9)
NOP ;JAM       ;unifficial instruction
NOP ;JAM       ;unifficial instruction
NOP ;ALR #&20  ;unifficial instruction
NOP ;RRA &6363 ;unifficial instruction
ADC &72,X
NOP ;JAM ;unifficial instruction
ADC &64
JSR &7461
JSR L0026
BIT &5920
AND &2C00,X
JSR &3D58
BRK
BIT &4120
AND &2C00,X
JSR &3D50
BRK
ORA &450A
NOP ;JAM       ;unifficial instruction
NOP ;JAM       ;unifficial instruction
AND &2000,X
NOP
JSR &0800
PHA
TXA
PHA
TYA
PHA
LDA #&86
STA &F2
LDA #&0F
STA &F3
JSR &1127
LDA &FE
JSR &1134
LDA &FD
JSR &1134
LDA #&98
STA &F2
LDA #&0F
STA &F3
JSR &1127
PLA
JSR &1134
LDA #&9D
STA &F2
LDA #&0F
STA &F3
JSR &1127
PLA
JSR &1134
LDA #&A2
STA &F2
LDA #&0F
STA &F3
JSR &1127
PLA
JSR &1134
LDA #&A7
STA &F2
LDA #&0F
STA &F3
JSR &1127
.BYTEV    PLA
JSR &1134
.WRCHV    LDA #&AC
STA &F2
.FILEV    LDA #&0F
STA &F3
.BGETV    JSR &1127
LDY #&00
LDA (&FD),Y
JSR &1134
LDA #&B3
STA &F2
LDA #&0F
STA &F3
JSR &1127
LDY #&00
INY
BEQ L023A
LDA (&FD),Y
BEQ L023A
JSR OSWRCH
JMP &102D
.L023A    JMP &103A
LDA &1281
LDX &1282
JSR &115A
LDA &1283
LDX &1284
JSR &115A
LDY #&04
JMP &0E9B
LDY #&00
BEQ L025F
LDA #&81
LDX #&12
JMP &1285
.L025F    RTS
STY &80
SEC
SBC &80
BCS L0268
DEX
.L0268    RTS
LDA &70
SEC
SBC #&02
STA &70
BCC L0273
RTS
.L0273    DEC &71
RTS
LDA #&04
LDX #&01
LDY #&00
JSR OSBYTE
STX &12C1
RTS
LDA #&04
LDX &12C1
LDY #&00
JSR OSBYTE
RTS
CLC
ADC #&01
BCC L0294
INX
.L0294    RTS
LDY #&04
STY &80
CLC
ADC &80
BCC L029F
INX
.L029F    RTS
LDY #&01
LDA (&70),Y
TAX
DEY
LDA (&70),Y
INC &70
BEQ L02B1
INC &70
BEQ L02B3
RTS
.L02B1    INC &70
.L02B3    INC &71
RTS
LDA #&84
JSR OSBYTE
TYA
STA &71
TXA
STA &70
RTS
LDY #&01
LDA (&70),Y
TAX
DEY
LDA (&70),Y
RTS
BNE L02D3
.L02CD    LDX #&00
TXA
RTS
BNE L02CD
.L02D3    LDX #&00
LDA #&01
RTS
BEQ L02D3
BMI L02D3
LDX #&00
TXA
RTS
BEQ L02E4
BPL L02D3
.L02E4    LDX #&00
TXA
RTS
BEQ L02D3
BCC L02D3
LDX #&00
TXA
RTS
BEQ L02CD
LDX #&00
TXA
ROL A
RTS
PHA
LDY #&01
LDA (&70),Y
STA &73
DEY
LDA (&70),Y
STA &72
PLA
JMP &10A8
LDY #&1A
JSR &11F1
LDY #&19
.L030E    LDA &0070,Y
STA (&70),Y
DEY
BPL L030E
RTS
LDY #&19
.L0319    LDA (&70),Y
STA &0070,Y
DEY
BPL L0319
LDY #&1A
JSR &0F10
RTS
LDY #&00
.L0329    LDA (&F2),Y
BEQ L0333
JSR OSASCI
INY
BNE L0329
.L0333    RTS
PHA
AND #&F0
CLC
ROR A
ROR A
ROR A
ROR A
CMP #&0A
BCC L0342
ADC #&06
.L0342    ADC #&30
JSR OSWRCH
PLA
AND #&0F
CMP #&0A
BCC L0350
ADC #&06
.L0350    ADC #&30
JSR OSWRCH
RTS
LDA #&00
LDX #&00
PHA
LDA &70
SEC
SBC #&02
STA &70
BCS L0366
DEC &71
.L0366    LDY #&01
TXA
STA (&70),Y
PLA
DEY
STA (&70),Y
RTS
CPX #&00
BNE L039A
CMP #&06
BCS L039A
PHA
ASL A
TAX
LDA &12AD,X
STA &12AB
LDA &12AE,X
STA &12AC
LDA #&CA
STA &12AD,X
LDA #&11
STA &12AE,X
PLA
LDX #&00
JSR &12AA
LDA #&00
TAX
.L039A    RTS
STA &78
STX &79
JSR &10A0
CPX #&00
BNE L03C4
CMP #&06
BCS L03C4
ASL A
TAX
SEI
LDA &12AD,X
PHA
LDA &78
STA &12AD,X
LDA &12AE,X
PHA
LDA &79
STA &12AE,X
CLI
PLA
TAX
PLA
RTS
.L03C4    LDA #&07
JSR &0F06
TAX
RTS
LDY #&00
STA (&70),Y
INY
PHA
TXA
STA (&70),Y
PLA
RTS
STY &80
PHA
LDY #&01
LDA (&70),Y
STA &79
DEY
LDA (&70),Y
STA &78
LDY &80
INY
TXA
STA (&78),Y
DEY
PLA
STA (&78),Y
JMP &10A8
TYA
EOR #&FF
SEC
ADC &70
STA &70
BCS L03FD
DEC &71
.L03FD    RTS
LDX #&00
STA &7E
STX &7F
JSR &10F7
JSR &120F
LDA &72
LDX &73
RTS
LDA #&00
STA &79
LDY #&10
LDX &7F
BEQ L0438
.L0419    ASL &72
ROL &73
ROL A
ROL &79
PHA
CMP &7E
LDA &79
SBC &7F
BCC L0431
STA &79
PLA
SBC &7E
PHA
INC &72
.L0431    PLA
DEY
BNE L0419
STA &78
RTS
.L0438    ASL &72
ROL &73
ROL A
BCS L0443
CMP &7E
BCC L0447
.L0443    SBC &7E
INC &72
.L0447    DEY
BNE L0438
STA &78
RTS
LDX #&00
STA &7E
STX &7F
JSR &10F7
JSR &120F
LDA &78
LDX &79
RTS
LDA #&B9
STA &78
LDA #&12
STA &79
LDA #&00
TAY
LDX #&00
BEQ L0477
.L046D    STA (&78),Y
INY
BNE L046D
INC &79
DEX
BNE L046D
.L0477    CPY #&0B
BEQ L0480
STA (&78),Y
INY
BNE L0477
.L0480    RTS
BRK
BRK
BRK
BRK
STA &1293
STX &1294
STA &129A
STX &129B
.L0491    DEY
LDA &FFFF,Y
STA &12A4
DEY
LDA &FFFF,Y
STA &12A3
STY &12A6
JSR &FFFF
LDY #&FF
BNE L0491
RTS
JMP &FFFF
DEX
ORA (&CA),Y
ORA (&CA),Y
ORA (&CA),Y
ORA (&CA),Y
ORA (&CA),Y
ORA (&00),Y
]
NEXT
MODE 7
PRINT "CALLING &"STR$~(MC%)
CALL MC%